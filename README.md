# Coordinate-systems-LB-No.-2
Розробка додатку для візуалізації вимірювань радару

## Функціональність

- **Real-time підключення** до WebSocket сервера
- **Візуалізація цілей** на полярному графіку (кут, відстань)
- **Кольорове кодування** потужності відбитих сигналів
- **Автоматичний розрахунок відстані** за формулою R = (c × t) / 2
- **Інтерактивні налаштування** параметрів радару через API
- **Статистика в реальному часі**: кількість цілей, кут сканування, FPS
- **Автоматичне перепідключення** при втраті з'єднання

## Швидкий старт

### 1. Запуск емулятора радару

Спочатку потрібно запустити Docker контейнер з емулятором:

**Windows (Command Prompt / PowerShell):**
```cmd
docker pull iperekrestov/university:radar-emulation-service
docker run --name radar-emulator -p 4000:4000 iperekrestov/university:radar-emulation-service
```

**Linux / macOS:**
```bash
docker pull iperekrestov/university:radar-emulation-service
docker run --name radar-emulator -p 4000:4000 iperekrestov/university:radar-emulation-service
```

### 2. Відкриття веб-додатку

**Варіант 1 (найпростіший):**
- Знайдіть файл `radar-visualization.html`
- Двічі клацніть на ньому
- Він відкриється у вашому браузері за замовчуванням

**Варіант 2:**
- Перетягніть файл `radar-visualization.html` у вікно браузера (Chrome, Firefox, Edge)

Додаток автоматично підключиться до WebSocket сервера за адресою `ws://localhost:4000`.

## Використання

### Інтерфейс

1. **Графік радару** (ліворуч)
   - Відображає цілі в полярних координатах
   - Кольори показують потужність сигналу (від блакитного до помаранчевого)
   - Автоматично оновлюється при отриманні нових даних

2. **Панель статусу** (праворуч вгорі)
   - Статус підключення до WebSocket
   - Кількість задетектованих цілей
   - Поточний кут сканування
   - Кількість отриманих повідомлень
   - Швидкість оновлення (FPS)

3. **Налаштування** (праворуч внизу)
   - Вимірювань на оберт (за замовчуванням: 360)
   - Швидкість обертання в RPM (за замовчуванням: 60)
   - Швидкість цілей в км/год (за замовчуванням: 100)

### Зміна параметрів

1. Введіть нові значення в поля налаштувань
2. Натисніть кнопку "Оновити Параметри"
3. Параметри будуть відправлені на сервер через PUT запит

## Технічні деталі

### Формат даних WebSocket

Сервер надсилає дані у форматі JSON:

```json
{
  "scanAngle": 90,
  "pulseDuration": 1,
  "echoResponses": [
    {
      "time": 0.000012,
      "power": 0.05
    }
  ]
}
```

### Розрахунок відстані

Відстань до цілі розраховується за формулою:

```
R = (c × t) / 2
```

де:
- **R** — відстань до цілі (км)
- **c** — швидкість світла (300,000 км/с)
- **t** — час поширення сигналу (с)

### API конфігурації

Для зміни параметрів використовується PUT запит:

```bash
curl -X PUT http://localhost:4000/config \
  -H "Content-Type: application/json" \
  -d '{
    "measurementsPerRotation": 360,
    "rotationSpeed": 60,
    "targetSpeed": 100
  }'
```

## Дизайн

Додаток виконаний у футуристичному стилі з використанням:
- Шрифти: **Orbitron** (заголовки) та **Rajdhani** (текст)
- Кольорова схема: блакитний (cyan) та зелений (green) на темному фоні
- Анімації та ефекти свічення для покращення UX
- Адаптивний дизайн для різних розмірів екранів

## Бібліотеки

- **Plotly.js 2.27.0** — для побудови полярних графіків
- **Google Fonts** — Orbitron та Rajdhani
- Чистий JavaScript (без фреймворків)

## Вирішення проблем

### Не вдається підключитися до WebSocket

1. **Перевірте, чи запущений Docker контейнер:**
   
   Windows (Command Prompt):
   ```cmd
   docker ps
   ```
   
   Ви повинні побачити контейнер `radar-emulator` у списку.

2. **Перевірте, чи доступний порт 4000:**
   
   Windows:
   ```cmd
   curl http://localhost:4000/config
   ```
   
   Якщо curl не встановлений, використайте PowerShell:
   ```powershell
   Invoke-WebRequest -Uri http://localhost:4000/config
   ```
   
   Або просто відкрийте у браузері: `http://localhost:4000/config`

3. **Перевірте фаєрвол Windows:**
   - Переконайтесь, що Windows Firewall не блокує порт 4000
   - Якщо потрібно, додайте виключення для Docker

4. **Перезапустіть Docker контейнер:**
   ```cmd
   docker restart radar-emulator
   ```

### Графік не оновлюється

1. Перевірте консоль браузера на наявність помилок (F12)
2. Переконайтесь, що статус підключення показує "Підключено"
3. Перезавантажте сторінку

### Помилка при оновленні параметрів

1. Переконайтесь, що сервер запущений і доступний
2. Перевірте правильність значень параметрів (мають бути числами)
3. Подивіться на відповідь сервера у вкладці Network в DevTools

---

## Автор

**ПІБ:** Гайдей Євген Анатолійович
**Група:** КН 4.02
